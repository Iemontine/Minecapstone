[gd_scene load_steps=13 format=3 uid="uid://co7hj1mf7o34c"]

[ext_resource type="Script" uid="uid://bmjlbi4ommt7u" path="res://ChunkManager.cs" id="1_ioo17"]
[ext_resource type="Script" uid="uid://cj3o4vswsgmu2" path="res://NavigationMesher.cs" id="1_k3n1d"]
[ext_resource type="PackedScene" uid="uid://0ypfn26rapdv" path="res://player.tscn" id="2_fj7yv"]
[ext_resource type="PackedScene" uid="uid://bp2lv8kmupisq" path="res://ui.tscn" id="3_tlwt5"]
[ext_resource type="Script" uid="uid://beu7pn6pd3ojp" path="res://BlockManager.cs" id="4_036b0"]
[ext_resource type="PackedScene" uid="uid://c7m3rrvvx3cg6" path="res://chunk.tscn" id="8_k3n1d"]
[ext_resource type="PackedScene" uid="uid://le6846223p6p" path="res://npc.tscn" id="11_ic0uy"]

[sub_resource type="NavigationMesh" id="NavigationMesh_k3n1d"]
vertices = PackedVector3Array(-61.45, 35, 60.5, 60.5, 37, 60.5, 60.5, 22, -61.45, -61.45, 31, -61.45, -61.45, 33, -53.5823, -61.45, 30, -41.7806, -61.45, 31, -26.0452, -61.45, 30, -22.1113, -61.45, 26, -14.2435, -61.45, 26, -2.44193, -61.45, 27, 1.49194, -61.45, 27, 9.35968, -61.45, 29, 17.2274, -61.45, 31, 21.1613, -61.45, 30, 36.8968, -61.45, 34, 48.6984, -61.45, 33, 52.6323, -49.6484, 31, 60.5, -45.7145, 31, 60.5, -37.8468, 27.5, 60.5, -26.0452, 25, 60.5, -18.1774, 25, 60.5, -2.44193, 23, 60.5, 1.49194, 24, 60.5, 13.2936, 24, 60.5, 32.9629, 29, 60.5, 36.8968, 29, 60.5, 40.8307, 31, 60.5, 48.6984, 32, 60.5, 60.5, 36, 52.6323, 60.5, 33, 40.8307, 60.5, 33, 29.029, 60.5, 31, 25.0952, 60.5, 28, 13.2936, 60.5, 29, 5.42581, 60.5, 28, 1.49194, 60.5, 30, -6.3758, 60.5, 32, -10.3097, 60.5, 32, -18.1774, 60.5, 30, -26.0452, 60.5, 30, -37.8468, 60.5, 23, -49.6484, 60.5, 23, -57.5161, 52.6323, 23, -61.45, 40.8307, 23, -61.45, 36.8968, 24, -61.45, 21.1613, 18, -61.45, 5.42581, 16, -61.45, -6.3758, 16, -61.45, -18.1774, 19, -61.45, -29.979, 25, -61.45, -57.5161, 31, -61.45, -29.0367, 16, -3.84245, -1.16092, 27, 9.64234, 17.7362, 19, -18.2635, -11.9624, 23, -8.34401, -17.3379, 17, -24.5541, 14.1403, 22, 35.7619, 15.0524, 28, 5.16419, -36.2536, 19, -36.2362, -48.8632, 28, -22.7481, -47.0605, 29, -42.5589, 18.6482, 22, -48.8612, -2.93642, 15, -34.4356, 51.9431, 27, 21.365, -28.1624, 27, 47.4458, -14.6617, 23, 28.5441, -28.1617, 21, 25.8551, 0.659676, 26, 51.0402, 34.8587, 28, 27.6633, 37.5413, 25, 42.0568, -21.8619, 22, -55.1614, 52.8464, 25, -45.2572, 37.5439, 27, -33.5556, -43.4521, 23, -23.6519, -47.053, 29, 31.2568, -41.6423, 26, 41.1634, -38.9646, 30, 51.0501, -26.3592, 22, 11.4645, -38.0524, 20, 15.0622, 50.1527, 27, -25.453, 55.5584, 32, -14.6631, 48.3502, 27, -11.0624, 51.9502, 29, -38.9603, 55.5431, 31, -6.56287, 28.554, 22, -40.7484, 37.5394, 26, -48.8427, -14.6408, 21, 3.35992, 13.2437, 26, 52.8392, -40.7532, 25, -49.7596, 12.3613, 17, -50.644, -22.7461, 23, 40.2384, -24.5414, 19, -11.0564, -29.9573, 17, -14.6594, -33.556, 21, -24.5527, 23.1447, 25, 56.4452, 29.4419, 28, 51.0411, -14.6511, 24, 10.5468, -56.0624, 28, 11.4569, 0.663376, 14, -56.9433, 4.25201, 18, -45.2532, -5.64895, 15, -48.8592, -6.56083, 16, -23.6516, 6.04818, 20, -20.9392, 5.13743, 16, -28.1627, 14.1377, 21, -33.547, -26.3499, 24, 31.2585, 24.0359, 25, 51.0616, 37.5431, 27, -11.9649, 9.64743, 18, -27.2464, -52.4598, 30, 52.838, -49.7516, 31, 46.5542, 29.4371, 27, 46.5643, 31.2543, 25, 40.244, 51.0564, 32, 42.0357, 42.0416, 26, 33.9595, 44.7491, 28, 49.2365, -36.2592, 22, -19.1523, -29.057, 17, 5.14117, -38.944, 25, 31.2562, -29.0533, 24, 42.049, 37.5636, 25, -26.3387, 23.1627, 20, -32.6577, 49.2408, 29, -0.24548, 30.3596, 26, 3.35954, 25.8399, 26, -6.54041, 21.3392, 26, 12.3372)
polygons = [PackedInt32Array(51, 4, 3), PackedInt32Array(4, 61, 5), PackedInt32Array(5, 61, 6), PackedInt32Array(6, 60, 7), PackedInt32Array(7, 60, 8), PackedInt32Array(8, 60, 9), PackedInt32Array(9, 98, 10), PackedInt32Array(10, 98, 11), PackedInt32Array(11, 98, 12), PackedInt32Array(12, 98, 13), PackedInt32Array(13, 75, 14), PackedInt32Array(14, 111, 15), PackedInt32Array(15, 110, 16), PackedInt32Array(16, 110, 0), PackedInt32Array(0, 110, 17), PackedInt32Array(17, 110, 18), PackedInt32Array(18, 77, 19), PackedInt32Array(19, 77, 20), PackedInt32Array(20, 65, 21), PackedInt32Array(21, 68, 22), PackedInt32Array(22, 68, 23), PackedInt32Array(23, 88, 24), PackedInt32Array(24, 95, 25), PackedInt32Array(25, 96, 26), PackedInt32Array(26, 116, 27), PackedInt32Array(27, 116, 28), PackedInt32Array(28, 29, 1), PackedInt32Array(29, 114, 30), PackedInt32Array(30, 114, 31), PackedInt32Array(31, 64, 32), PackedInt32Array(32, 64, 33), PackedInt32Array(33, 123, 34), PackedInt32Array(34, 123, 35), PackedInt32Array(35, 84, 36), PackedInt32Array(36, 84, 37), PackedInt32Array(37, 81, 38), PackedInt32Array(38, 80, 39), PackedInt32Array(39, 83, 40), PackedInt32Array(40, 72, 41), PackedInt32Array(41, 43, 42), PackedInt32Array(42, 43, 2), PackedInt32Array(43, 72, 44), PackedInt32Array(44, 86, 45), PackedInt32Array(45, 86, 46), PackedInt32Array(46, 90, 47), PackedInt32Array(47, 99, 48), PackedInt32Array(48, 101, 49), PackedInt32Array(49, 71, 50), PackedInt32Array(50, 89, 51), PackedInt32Array(51, 89, 4), PackedInt32Array(4, 89, 61), PackedInt32Array(61, 60, 6), PackedInt32Array(60, 117, 9), PackedInt32Array(9, 52, 98), PackedInt32Array(98, 75, 13), PackedInt32Array(75, 111, 14), PackedInt32Array(111, 110, 15), PackedInt32Array(110, 77, 18), PackedInt32Array(77, 65, 20), PackedInt32Array(65, 91, 21), PackedInt32Array(21, 91, 68), PackedInt32Array(68, 88, 23), PackedInt32Array(88, 95, 24), PackedInt32Array(95, 96, 25), PackedInt32Array(96, 116, 26), PackedInt32Array(116, 29, 28), PackedInt32Array(29, 116, 114), PackedInt32Array(114, 115, 31), PackedInt32Array(31, 115, 64), PackedInt32Array(64, 123, 33), PackedInt32Array(123, 84, 35), PackedInt32Array(84, 81, 37), PackedInt32Array(81, 80, 38), PackedInt32Array(80, 83, 39), PackedInt32Array(83, 72, 40), PackedInt32Array(72, 43, 41), PackedInt32Array(72, 86, 44), PackedInt32Array(86, 62, 46), PackedInt32Array(90, 99, 47), PackedInt32Array(46, 62, 90), PackedInt32Array(99, 101, 48), PackedInt32Array(101, 71, 49), PackedInt32Array(71, 89, 50), PackedInt32Array(89, 59, 61), PackedInt32Array(61, 74, 60), PackedInt32Array(117, 52, 9), PackedInt32Array(60, 74, 117), PackedInt32Array(52, 79, 98), PackedInt32Array(98, 79, 75), PackedInt32Array(75, 76, 111), PackedInt32Array(111, 77, 110), PackedInt32Array(77, 120, 65), PackedInt32Array(65, 120, 91), PackedInt32Array(91, 66, 68), PackedInt32Array(68, 57, 88), PackedInt32Array(88, 107, 95), PackedInt32Array(95, 107, 96), PackedInt32Array(96, 70, 116), PackedInt32Array(116, 70, 114), PackedInt32Array(114, 70, 115), PackedInt32Array(115, 69, 64), PackedInt32Array(64, 124, 123), PackedInt32Array(123, 82, 84), PackedInt32Array(84, 82, 81), PackedInt32Array(81, 82, 80), PackedInt32Array(80, 73, 83), PackedInt32Array(83, 86, 72), PackedInt32Array(86, 85, 62), PackedInt32Array(90, 100, 99), PackedInt32Array(62, 105, 90), PackedInt32Array(99, 100, 101), PackedInt32Array(101, 56, 71), PackedInt32Array(71, 59, 89), PackedInt32Array(59, 74, 61), PackedInt32Array(117, 93, 52), PackedInt32Array(74, 94, 117), PackedInt32Array(52, 118, 79), PackedInt32Array(79, 119, 75), PackedInt32Array(76, 77, 111), PackedInt32Array(75, 119, 76), PackedInt32Array(77, 76, 120), PackedInt32Array(120, 106, 91), PackedInt32Array(66, 57, 68), PackedInt32Array(91, 106, 66), PackedInt32Array(57, 107, 88), PackedInt32Array(107, 112, 96), PackedInt32Array(96, 112, 70), PackedInt32Array(70, 113, 115), PackedInt32Array(69, 124, 64), PackedInt32Array(115, 113, 69), PackedInt32Array(124, 108, 123), PackedInt32Array(123, 108, 82), PackedInt32Array(82, 108, 80), PackedInt32Array(73, 86, 83), PackedInt32Array(80, 121, 73), PackedInt32Array(85, 122, 62), PackedInt32Array(86, 73, 85), PackedInt32Array(90, 105, 100), PackedInt32Array(62, 122, 105), PackedInt32Array(100, 63, 101), PackedInt32Array(56, 59, 71), PackedInt32Array(101, 63, 56), PackedInt32Array(59, 94, 74), PackedInt32Array(93, 92, 52), PackedInt32Array(117, 94, 93), PackedInt32Array(118, 78, 79), PackedInt32Array(52, 87, 118), PackedInt32Array(79, 67, 119), PackedInt32Array(119, 120, 76), PackedInt32Array(120, 119, 106), PackedInt32Array(66, 53, 57), PackedInt32Array(106, 67, 66), PackedInt32Array(57, 112, 107), PackedInt32Array(112, 113, 70), PackedInt32Array(69, 126, 124), PackedInt32Array(113, 57, 69), PackedInt32Array(124, 125, 108), PackedInt32Array(108, 121, 80), PackedInt32Array(121, 122, 73), PackedInt32Array(85, 73, 122), PackedInt32Array(105, 104, 100), PackedInt32Array(122, 54, 105), PackedInt32Array(100, 104, 63), PackedInt32Array(56, 94, 59), PackedInt32Array(63, 102, 56), PackedInt32Array(92, 87, 52), PackedInt32Array(93, 56, 92), PackedInt32Array(94, 56, 93), PackedInt32Array(78, 67, 79), PackedInt32Array(118, 87, 78), PackedInt32Array(67, 106, 119), PackedInt32Array(53, 126, 57), PackedInt32Array(66, 97, 53), PackedInt32Array(67, 78, 66), PackedInt32Array(57, 113, 112), PackedInt32Array(126, 58, 124), PackedInt32Array(69, 57, 126), PackedInt32Array(125, 54, 108), PackedInt32Array(124, 58, 125), PackedInt32Array(108, 54, 121), PackedInt32Array(121, 54, 122), PackedInt32Array(105, 109, 104), PackedInt32Array(54, 109, 105), PackedInt32Array(104, 102, 63), PackedInt32Array(102, 55, 56), PackedInt32Array(92, 55, 87), PackedInt32Array(56, 55, 92), PackedInt32Array(87, 97, 78), PackedInt32Array(53, 58, 126), PackedInt32Array(97, 87, 53), PackedInt32Array(66, 78, 97), PackedInt32Array(125, 58, 54), PackedInt32Array(109, 103, 104), PackedInt32Array(54, 103, 109), PackedInt32Array(104, 103, 102), PackedInt32Array(102, 103, 55), PackedInt32Array(55, 53, 87), PackedInt32Array(53, 55, 58), PackedInt32Array(58, 103, 54), PackedInt32Array(103, 58, 55)]
geometry_parsed_geometry_type = 1
cell_size = 0.15
cell_height = 0.5
border_size = 67.05
agent_radius = 0.3
agent_max_climb = 1.1
agent_max_slope = 30.0
vertices_per_polygon = 4.0

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_gbfbk"]
sky_top_color = Color(0.478431, 0.658824, 0.992157, 1)
sky_horizon_color = Color(0.752941, 0.839216, 1, 1)
sky_curve = 0.0652915
ground_bottom_color = Color(0.0871543, 0.0697184, 0.0494625, 1)
ground_horizon_color = Color(0.752941, 0.839216, 1, 1)
sun_curve = 0.35

[sub_resource type="Sky" id="Sky_ioo17"]
sky_material = SubResource("ProceduralSkyMaterial_gbfbk")
radiance_size = 4

[sub_resource type="Environment" id="Environment_wse8f"]
background_mode = 2
sky = SubResource("Sky_ioo17")
fog_light_color = Color(0, 0, 0, 1)
fog_density = 0.04
volumetric_fog_density = 0.0184

[sub_resource type="Curve3D" id="Curve3D_pkg7o"]

[node name="World" type="Node3D"]

[node name="NavigationMesher" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0.5)
navigation_mesh = SubResource("NavigationMesh_k3n1d")
script = ExtResource("1_k3n1d")

[node name="BlockManager" type="Node" parent="NavigationMesher"]
script = ExtResource("4_036b0")

[node name="ChunkManager" type="Node" parent="NavigationMesher"]
script = ExtResource("1_ioo17")
ChunkScene = ExtResource("8_k3n1d")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_wse8f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.91706, -0.12982, -0.377025, 0, -0.945519, 0.325568, -0.398749, 0.298566, 0.867098, 0, 0, 0)
light_angular_distance = 2.27
shadow_enabled = true
shadow_blur = 0.0
directional_shadow_mode = 0
directional_shadow_split_1 = 0.0
directional_shadow_split_2 = 0.0

[node name="UI" parent="." instance=ExtResource("3_tlwt5")]

[node name="Player" parent="." instance=ExtResource("2_fj7yv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.1008, 33.2665, 4)

[node name="SpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 39.7352, 8.5)

[node name="NPC" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 10.1012)

[node name="NPC2" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.6811, 32.3573, 10.1012)

[node name="NPC3" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.8271, 32.3573, 10.1012)

[node name="NPC4" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.9775, 32.3573, 10.1012)

[node name="NPC5" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.1859, 32.3573, 10.1012)

[node name="NPC6" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.3363, 32.3573, 10.1012)

[node name="NPC7" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.4823, 32.3573, 10.1012)

[node name="NPC8" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.6327, 32.3573, 10.1012)

[node name="NPC9" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 12.1051)

[node name="NPC10" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.6811, 32.3573, 12.1051)

[node name="NPC11" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.8271, 32.3573, 12.1051)

[node name="NPC12" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.9775, 32.3573, 12.1051)

[node name="NPC13" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.1859, 32.3573, 12.1051)

[node name="NPC14" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.3363, 32.3573, 12.1051)

[node name="NPC15" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.4823, 32.3573, 12.1051)

[node name="NPC16" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.6327, 32.3573, 12.1051)

[node name="NPC17" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 10.1012)

[node name="NPC18" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.6811, 32.3573, 10.1012)

[node name="NPC19" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.8271, 32.3573, 10.1012)

[node name="NPC20" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.9775, 32.3573, 10.1012)

[node name="NPC21" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.1859, 32.3573, 10.1012)

[node name="NPC22" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.3363, 32.3573, 10.1012)

[node name="NPC23" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.4823, 32.3573, 10.1012)

[node name="NPC24" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.6327, 32.3573, 10.1012)

[node name="NPC25" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 12.1051)

[node name="NPC26" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.6811, 32.3573, 12.1051)

[node name="NPC27" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.8271, 32.3573, 12.1051)

[node name="NPC28" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.9775, 32.3573, 12.1051)

[node name="NPC29" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.1859, 32.3573, 12.1051)

[node name="NPC30" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.3363, 32.3573, 12.1051)

[node name="NPC31" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.4823, 32.3573, 12.1051)

[node name="NPC32" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.6327, 32.3573, 12.1051)

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_pkg7o")
