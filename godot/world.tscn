[gd_scene load_steps=21 format=3 uid="uid://co7hj1mf7o34c"]

[ext_resource type="Script" uid="uid://bmjlbi4ommt7u" path="res://ChunkManager.cs" id="1_ioo17"]
[ext_resource type="Script" uid="uid://cj3o4vswsgmu2" path="res://NavigationMesher.cs" id="1_k3n1d"]
[ext_resource type="PackedScene" uid="uid://0ypfn26rapdv" path="res://player.tscn" id="2_fj7yv"]
[ext_resource type="PackedScene" uid="uid://bp2lv8kmupisq" path="res://ui.tscn" id="3_tlwt5"]
[ext_resource type="Script" uid="uid://beu7pn6pd3ojp" path="res://BlockManager.cs" id="4_036b0"]
[ext_resource type="Script" uid="uid://cfcs76sa6g0rl" path="res://Block.cs" id="5_gbfbk"]
[ext_resource type="Texture2D" uid="uid://bbodruvpqn77s" path="res://assets/stone.png" id="6_ioo17"]
[ext_resource type="Texture2D" uid="uid://cji88xvb8pvsu" path="res://assets/side_grass.png" id="6_wse8f"]
[ext_resource type="Texture2D" uid="uid://barss788eej7w" path="res://assets/dirt.png" id="7_wse8f"]
[ext_resource type="Texture2D" uid="uid://dbduamuocf2xg" path="res://assets/grass.png" id="8_ic0uy"]
[ext_resource type="PackedScene" uid="uid://c7m3rrvvx3cg6" path="res://chunk.tscn" id="8_k3n1d"]
[ext_resource type="PackedScene" uid="uid://le6846223p6p" path="res://npc.tscn" id="11_ic0uy"]

[sub_resource type="NavigationMesh" id="NavigationMesh_k3n1d"]
vertices = PackedVector3Array(-31.7311, 17.5, -32.3346, -31.7311, 25.5, 47.1654, 47.7689, 27.5, 47.1654, 47.7689, 26.5, -32.3346, 45.2044, 26.5, -32.3346, 42.6399, 25.5, -32.3346, 40.0754, 25.5, -32.3346, 32.3818, 22.5, -32.3346, 29.8173, 20.5, -32.3346, 27.2528, 20.5, -32.3346, 24.6883, 19.5, -32.3346, 16.9947, 19.5, -32.3346, 6.73667, 15.5, -32.3346, 4.17215, 15.5, -32.3346, 1.60764, 14.5, -32.3346, -0.956879, 14.5, -32.3346, -3.52139, 13.5, -32.3346, -11.2149, 13.5, -32.3346, -18.9085, 16.5, -32.3346, -24.0375, 16.5, -32.3346, -26.602, 17.5, -32.3346, -31.7311, 17.5, -27.2056, -31.7311, 18.5, -24.6411, -31.7311, 18.5, -22.0765, -31.7311, 18.25, -19.512, -31.7311, 16.5, -14.383, -31.7311, 16.5, -11.8185, -31.7311, 15.5, -9.25397, -31.7311, 15.5, -6.68945, -31.7311, 14.5, -4.12493, -31.7311, 14.5, 1.0041, -31.7311, 16.5, 6.13313, -31.7311, 18.5, 8.69765, -31.7311, 18.5, 11.2622, -31.7311, 19.5, 13.8267, -31.7311, 19.5, 21.5202, -31.7311, 22.5, 29.2138, -31.7311, 22.5, 34.3428, -31.7311, 23.5, 36.9073, -31.7311, 23.5, 42.0364, -29.1666, 25.5, 47.1654, -26.602, 24.5, 47.1654, -24.0375, 24.5, 47.1654, -21.473, 23.5, 47.1654, -6.08591, 23.5, 47.1654, -3.52139, 24.5, 47.1654, -0.956879, 24.25, 47.1654, 4.17215, 22.5, 47.1654, 6.73667, 23.5, 47.1654, 16.9947, 23.5, 47.1654, 19.5592, 22.5, 47.1654, 22.1238, 22.5, 47.1654, 27.2528, 24.5, 47.1654, 29.8173, 24.5, 47.1654, 32.3818, 25.5, 47.1654, 42.6399, 25.5, 47.1654, 47.7689, 27.5, 36.9073, 47.7689, 26.5, 34.3428, 47.7689, 26.5, 31.7783, 47.7689, 25.5, 29.2138, 47.7689, 25.5, 8.69765, 47.7689, 26.5, 6.13313, 47.7689, 26.5, -6.68945, 47.7689, 25.5, -9.25397, 47.7689, 25.5, -27.2056, 47.7689, 26.5, -29.7701, 5.52547, 14.5, -28.1033, 0.994854, 25.5, 6.40434, 16.0149, 17.5, -17.5771, -24.5028, 19.5, 24.4235, 31.0301, 25.5, -5.59655, 11.5231, 20.5, 37.9292, 34.0126, 26.5, 24.402, 38.4946, 23.5, 40.9196, -16.9865, 22.5, 27.4211, 29.5007, 20.5, -16.1068, -24.4947, 15.5, -4.08174, -13.9822, 20.5, -10.0901, -24.4598, 15.5, -16.1024, -28.976, 15.5, 4.91327, -26.0029, 20.5, 12.3919, 37.0376, 25.5, -11.5879, 14.4956, 22.5, 19.8952, -9.46459, 21.5, 19.9194, 4.00052, 24.5, 19.9183, -18.4834, 22.5, 22.8961, 40.022, 23.5, -25.1079, -0.477623, 22.5, 36.4199, -18.4728, 16.5, -23.5651, 26.5407, 22.5, 31.9037, -24.4966, 21.5, 39.4368, -24.4703, 22.5, 30.4088, 8.49863, 18.5, -20.5746, -1.96708, 15.5, -22.0729, -1.96395, 20.5, -14.5662, 34.0438, 23.5, -20.5879, 14.5393, 26.5, 4.93189, 25.0288, 24.5, 15.4081, 25.0319, 25.5, 22.9147, 20.5381, 24.5, 1.93319, 17.5237, 22.5, -8.58809, 11.5012, 18.5, -14.5674, 44.5196, 24.5, 28.8929, 31.037, 24.5, 34.9293, -24.4916, 16.5, 3.4249, -16.9928, 22.5, 12.4078, -15.4815, 19.5, 3.39082, -19.9866, 19.5, 3.40786, 5.5055, 23.5, -4.062, 5.53619, 23.5, 45.3918, 37.0107, 24.5, -28.0725, 14.5243, 21.5, -7.08874, -16.9759, 16.5, -19.0901, -18.4928, 19.5, 0.426189, 38.5107, 23.5, -16.0909, 34.0057, 23.5, -16.0739, 41.5014, 25.5, -14.5976, 32.5045, 23.5, 40.9256, -6.46833, 22.5, 10.9134, -10.9852, 22.5, 6.41644, -1.95768, 24.5, 0.397049, -22.9922, 17.5, -10.1061, 19.0038, 23.5, 27.4348, 10.0318, 22.5, 22.9049, 37.0271, 25.5, 34.9233, 41.5027, 24.5, 36.4276, -13.984, 21.5, 33.4284)
polygons = [PackedInt32Array(65, 4, 3), PackedInt32Array(4, 65, 5), PackedInt32Array(5, 86, 6), PackedInt32Array(6, 110, 7), PackedInt32Array(7, 110, 8), PackedInt32Array(8, 95, 9), PackedInt32Array(9, 75, 10), PackedInt32Array(10, 68, 11), PackedInt32Array(11, 66, 12), PackedInt32Array(12, 66, 13), PackedInt32Array(13, 66, 14), PackedInt32Array(14, 66, 15), PackedInt32Array(15, 93, 16), PackedInt32Array(16, 93, 17), PackedInt32Array(17, 88, 18), PackedInt32Array(18, 88, 19), PackedInt32Array(19, 22, 20), PackedInt32Array(20, 21, 0), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 88, 23), PackedInt32Array(23, 78, 24), PackedInt32Array(24, 78, 25), PackedInt32Array(25, 78, 26), PackedInt32Array(26, 121, 27), PackedInt32Array(27, 121, 28), PackedInt32Array(28, 76, 29), PackedInt32Array(29, 76, 30), PackedInt32Array(30, 79, 31), PackedInt32Array(31, 79, 32), PackedInt32Array(32, 80, 33), PackedInt32Array(33, 80, 34), PackedInt32Array(34, 80, 35), PackedInt32Array(35, 69, 36), PackedInt32Array(36, 91, 37), PackedInt32Array(37, 90, 38), PackedInt32Array(38, 90, 39), PackedInt32Array(39, 40, 1), PackedInt32Array(40, 39, 41), PackedInt32Array(41, 90, 42), PackedInt32Array(42, 90, 43), PackedInt32Array(43, 126, 44), PackedInt32Array(44, 87, 45), PackedInt32Array(45, 87, 46), PackedInt32Array(46, 109, 47), PackedInt32Array(47, 109, 48), PackedInt32Array(48, 71, 49), PackedInt32Array(49, 71, 50), PackedInt32Array(50, 89, 51), PackedInt32Array(51, 117, 52), PackedInt32Array(52, 117, 53), PackedInt32Array(53, 117, 54), PackedInt32Array(54, 73, 55), PackedInt32Array(55, 56, 2), PackedInt32Array(56, 125, 57), PackedInt32Array(57, 125, 58), PackedInt32Array(58, 102, 59), PackedInt32Array(59, 102, 60), PackedInt32Array(60, 97, 61), PackedInt32Array(61, 70, 62), PackedInt32Array(62, 81, 63), PackedInt32Array(63, 116, 64), PackedInt32Array(64, 5, 65), PackedInt32Array(86, 110, 6), PackedInt32Array(5, 64, 86), PackedInt32Array(110, 95, 8), PackedInt32Array(95, 75, 9), PackedInt32Array(75, 68, 10), PackedInt32Array(68, 92, 11), PackedInt32Array(11, 92, 66), PackedInt32Array(66, 93, 15), PackedInt32Array(93, 88, 17), PackedInt32Array(88, 22, 19), PackedInt32Array(88, 78, 23), PackedInt32Array(78, 121, 26), PackedInt32Array(121, 76, 28), PackedInt32Array(76, 104, 30), PackedInt32Array(30, 104, 79), PackedInt32Array(79, 80, 32), PackedInt32Array(80, 69, 35), PackedInt32Array(69, 91, 36), PackedInt32Array(91, 90, 37), PackedInt32Array(90, 41, 39), PackedInt32Array(90, 126, 43), PackedInt32Array(126, 87, 44), PackedInt32Array(87, 109, 46), PackedInt32Array(109, 71, 48), PackedInt32Array(71, 89, 50), PackedInt32Array(89, 103, 51), PackedInt32Array(51, 103, 117), PackedInt32Array(117, 73, 54), PackedInt32Array(73, 56, 55), PackedInt32Array(56, 73, 125), PackedInt32Array(125, 102, 58), PackedInt32Array(102, 72, 60), PackedInt32Array(97, 70, 61), PackedInt32Array(60, 72, 97), PackedInt32Array(70, 81, 62), PackedInt32Array(81, 116, 63), PackedInt32Array(116, 86, 64), PackedInt32Array(86, 95, 110), PackedInt32Array(95, 115, 75), PackedInt32Array(75, 100, 68), PackedInt32Array(68, 101, 92), PackedInt32Array(92, 93, 66), PackedInt32Array(93, 112, 88), PackedInt32Array(88, 112, 78), PackedInt32Array(78, 112, 121), PackedInt32Array(121, 113, 76), PackedInt32Array(76, 113, 104), PackedInt32Array(104, 80, 79), PackedInt32Array(80, 85, 69), PackedInt32Array(69, 74, 91), PackedInt32Array(91, 126, 90), PackedInt32Array(126, 83, 87), PackedInt32Array(87, 71, 109), PackedInt32Array(71, 122, 89), PackedInt32Array(89, 72, 103), PackedInt32Array(103, 124, 117), PackedInt32Array(117, 124, 73), PackedInt32Array(73, 124, 125), PackedInt32Array(125, 124, 102), PackedInt32Array(102, 124, 72), PackedInt32Array(97, 99, 70), PackedInt32Array(72, 98, 97), PackedInt32Array(70, 75, 81), PackedInt32Array(81, 114, 116), PackedInt32Array(116, 114, 86), PackedInt32Array(86, 114, 95), PackedInt32Array(115, 81, 75), PackedInt32Array(95, 114, 115), PackedInt32Array(100, 101, 68), PackedInt32Array(75, 70, 100), PackedInt32Array(101, 94, 92), PackedInt32Array(92, 94, 93), PackedInt32Array(93, 94, 112), PackedInt32Array(112, 77, 121), PackedInt32Array(121, 77, 113), PackedInt32Array(113, 107, 104), PackedInt32Array(104, 107, 80), PackedInt32Array(85, 74, 69), PackedInt32Array(80, 105, 85), PackedInt32Array(74, 126, 91), PackedInt32Array(83, 84, 87), PackedInt32Array(126, 74, 83), PackedInt32Array(87, 123, 71), PackedInt32Array(122, 98, 89), PackedInt32Array(71, 123, 122), PackedInt32Array(72, 124, 103), PackedInt32Array(89, 98, 72), PackedInt32Array(99, 100, 70), PackedInt32Array(97, 96, 99), PackedInt32Array(98, 82, 97), PackedInt32Array(81, 115, 114), PackedInt32Array(100, 111, 101), PackedInt32Array(101, 108, 94), PackedInt32Array(94, 77, 112), PackedInt32Array(77, 106, 113), PackedInt32Array(113, 106, 107), PackedInt32Array(107, 105, 80), PackedInt32Array(85, 83, 74), PackedInt32Array(105, 83, 85), PackedInt32Array(84, 123, 87), PackedInt32Array(83, 118, 84), PackedInt32Array(122, 82, 98), PackedInt32Array(123, 82, 122), PackedInt32Array(99, 111, 100), PackedInt32Array(96, 111, 99), PackedInt32Array(97, 82, 96), PackedInt32Array(111, 108, 101), PackedInt32Array(108, 120, 94), PackedInt32Array(94, 120, 77), PackedInt32Array(77, 120, 106), PackedInt32Array(106, 105, 107), PackedInt32Array(105, 118, 83), PackedInt32Array(84, 82, 123), PackedInt32Array(118, 67, 84), PackedInt32Array(96, 108, 111), PackedInt32Array(82, 84, 96), PackedInt32Array(108, 67, 120), PackedInt32Array(120, 119, 106), PackedInt32Array(106, 119, 105), PackedInt32Array(105, 119, 118), PackedInt32Array(67, 96, 84), PackedInt32Array(118, 120, 67), PackedInt32Array(96, 67, 108), PackedInt32Array(120, 118, 119)]
geometry_parsed_geometry_type = 1
agent_radius = 0.25
agent_max_climb = 1.0
agent_max_slope = 16.35
edge_max_error = 0.1

[sub_resource type="Resource" id="Resource_wse8f"]
script = ExtResource("5_gbfbk")
metadata/_custom_type_script = ExtResource("5_gbfbk")

[sub_resource type="Resource" id="Resource_ic0uy"]
script = ExtResource("5_gbfbk")
Texture = ExtResource("6_ioo17")
metadata/_custom_type_script = ExtResource("5_gbfbk")

[sub_resource type="Resource" id="Resource_k3n1d"]
script = ExtResource("5_gbfbk")
Texture = ExtResource("7_wse8f")
metadata/_custom_type_script = ExtResource("5_gbfbk")

[sub_resource type="Resource" id="Resource_2o6r5"]
script = ExtResource("5_gbfbk")
Texture = ExtResource("6_wse8f")
TopTexture = ExtResource("8_ic0uy")
BottomTexture = ExtResource("7_wse8f")
metadata/_custom_type_script = ExtResource("5_gbfbk")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_gbfbk"]
sky_top_color = Color(0.478431, 0.658824, 0.992157, 1)
sky_horizon_color = Color(0.752941, 0.839216, 1, 1)
sky_curve = 0.0652915
ground_bottom_color = Color(0.0871543, 0.0697184, 0.0494625, 1)
ground_horizon_color = Color(0.752941, 0.839216, 1, 1)
sun_curve = 0.35

[sub_resource type="Sky" id="Sky_ioo17"]
sky_material = SubResource("ProceduralSkyMaterial_gbfbk")
radiance_size = 4

[sub_resource type="Environment" id="Environment_wse8f"]
background_mode = 2
sky = SubResource("Sky_ioo17")
fog_light_color = Color(0, 0, 0, 1)
fog_density = 0.04
volumetric_fog_density = 0.0184

[node name="World" type="Node3D"]

[node name="NavigationMesher" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0189285, 1, 0.58461)
navigation_mesh = SubResource("NavigationMesh_k3n1d")
travel_cost = 10.0
script = ExtResource("1_k3n1d")

[node name="BlockManager" type="Node" parent="NavigationMesher"]
script = ExtResource("4_036b0")
Air = SubResource("Resource_wse8f")
Stone = SubResource("Resource_ic0uy")
Dirt = SubResource("Resource_k3n1d")
Grass = SubResource("Resource_2o6r5")

[node name="ChunkManager" type="Node" parent="NavigationMesher"]
script = ExtResource("1_ioo17")
ChunkScene = ExtResource("8_k3n1d")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_wse8f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.91706, -0.12982, -0.377025, 0, -0.945519, 0.325568, -0.398749, 0.298566, 0.867098, 0, 0, 0)
light_angular_distance = 2.27
shadow_enabled = true
shadow_blur = 0.0
directional_shadow_mode = 0
directional_shadow_split_1 = 0.0
directional_shadow_split_2 = 0.0

[node name="UI" parent="." instance=ExtResource("3_tlwt5")]

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 41.5, 2.5)
use_collision = true

[node name="Player" parent="." instance=ExtResource("2_fj7yv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.1008, 33.2665, 4)

[node name="SpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 39.7352, 8.5)

[node name="NPC" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 10.1012)

[node name="NPC2" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.9426, 32.3573, 10.1012)

[node name="NPC3" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.0247, 32.3573, 10.1012)

[node name="NPC4" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.1697, 32.3573, 10.1012)

[node name="NPC5" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.8631, 32.3573, 10.1012)

[node name="NPC6" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5307, 32.3573, 12.6048)

[node name="NPC7" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.9426, 32.3573, 12.6048)

[node name="NPC8" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.0247, 32.3573, 12.6048)

[node name="NPC9" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.1697, 32.3573, 12.6048)

[node name="NPC10" parent="." instance=ExtResource("11_ic0uy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.8631, 32.3573, 12.6048)
